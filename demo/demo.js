(()=>{"use strict";var e,t={559:(e,t,a)=>{var o=a(710);class i{constructor(e){void 0===i.isSupportImageBitmap&&(i.isSupportImageBitmap="undefined"!=typeof createImageBitmap),i.isSupportImageBitmap?(this.imageBitmapLoader=new o.Kzg(e),this.imageBitmapLoader.setOptions({imageOrientation:"flipY"})):this.textureLoader=new o.Tap(e)}load(e,t){return null==t&&(t={}),i.isSupportImageBitmap?this.loadImageBitmap(e,t):this.loadTexture(e,t)}loadImageBitmap(e,t){return new Promise(((a,n)=>{t.imageBitmapOption&&this.imageBitmapLoader.setOptions(t.imageBitmapOption),this.imageBitmapLoader.load(e,(e=>{const n=new o.GOR(e);i.setTextureOptions(n,t.canvasTextureOption),a(n)}),void 0,(e=>{console.log("TextureSwitchingLoader : "),n(e)}))}))}loadTexture(e,t){return new Promise(((a,o)=>{this.textureLoader.load(e,(e=>{i.setImageBitmapOptions(e,t.imageBitmapOption),i.setTextureOptions(e,t.canvasTextureOption),a(e)}),void 0,(e=>{console.log("TextureSwitchingLoader : "),o(e)}))}))}static setTextureOptions(e,t){e.mapping??=t?.mapping,e.wrapS??=t?.wrapS,e.wrapT??=t?.wrapT,e.minFilter??=t?.minFilter,e.format??=t?.format,e.type??=t?.type,e.anisotropy??=t?.anisotropy,e.colorSpace=t?.colorSpace??"srgb"}static setImageBitmapOptions(e,t){const a=t?.imageOrientation;null!=a&&(e.flipY="flipY"===a),null!=t?.premultiplyAlpha&&(e.premultiplyAlpha="premultiply"===t.premultiplyAlpha)}}var n=a(753),r=a(580);window.onload=()=>{const e=new o.Z58;!function(e){const t=new o.$p8(16777215,1);e.add(t)}(e);const t=function(e){const t=new o.ubm(45,640/480,1,400);return t.position.set(0,0,100),t.updateMatrixWorld(!1),e.add(t),t}(e),a=function(){const e={canvas:document.getElementById("webgl-canvas"),antialias:!0},t=new n.JeP(e);return t.setClearColor(new o.Q1f(0)),t.setSize(640,480),t.setPixelRatio(window.devicePixelRatio),t}(),p=function(e,t){const a=new r.N(e,t.domElement);return a.update(),a}(t,a);!function(e){const t=new o.IzY(30);e.add(t)}(e),(e=>{const t=new o.Gu$(20,16,16),a=new o.V9B,n=new o.eaF(t,a);let r,p;e.add(n),o.l2R.enabled=!0;const s=new i;s.load("./earth.jpg",{imageBitmapOption:{imageOrientation:"flipY"}}).then((e=>{a.map=e,a.needsUpdate=!0,console.log("1st Load"),console.log(e.image),r=e,s.load("./earth.jpg").then((e=>{console.log("2nd Load"),console.log(e.image),p=e,r.image===p.image&&console.log("share!")}))})),s.load("./earth.jpg"),s.load("./earth.jpg"),s.load("./earth.jpg"),s.load("./earth.jpg"),s.load("./earth.jpg"),setTimeout((()=>{s.load("./earth.jpg"),s.load("./earth.jpg"),s.load("./earth.jpg"),s.load("./earth.jpg"),s.load("./earth.jpg")}),2e3)})(e),function(e,t,a,o){const i=()=>{e.update(),t.render(a,o),requestAnimationFrame(i)};i()}(p,a,e,t)}}},a={};function o(e){var i=a[e];if(void 0!==i)return i.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,a,i,n)=>{if(!a){var r=1/0;for(m=0;m<e.length;m++){for(var[a,i,n]=e[m],p=!0,s=0;s<a.length;s++)(!1&n||r>=n)&&Object.keys(o.O).every((e=>o.O[e](a[s])))?a.splice(s--,1):(p=!1,n<r&&(r=n));if(p){e.splice(m--,1);var l=i();void 0!==l&&(t=l)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,i,n]},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={594:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var i,n,[r,p,s]=a,l=0;if(r.some((t=>0!==e[t]))){for(i in p)o.o(p,i)&&(o.m[i]=p[i]);if(s)var m=s(o)}for(t&&t(a);l<r.length;l++)n=r[l],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(m)},a=self.webpackChunk_masatomakino_threejs_texture_switching_loader=self.webpackChunk_masatomakino_threejs_texture_switching_loader||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=o.O(void 0,[121],(()=>o(559)));i=o.O(i)})();